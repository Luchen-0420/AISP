# AISP技术架构设计 v2.0

## 📋 版本信息

**文档版本**: v2.0
**创建日期**: 2026年1月20日
**作者**: AISP技术团队
**更新类型**: Delta 增量更新
**更新来源**: 基于 PRD Delta 完善记录 + SP 业务流程调研 + AI 医疗对话系统架构调研

---

## 🔄 Delta 1: Multi-Agent 交互流程明确化

### 问题背景
**评估反馈**: "multi agents 设计：生理中控、知识检索部分逻辑不明，剧情导演判断逻辑缺失"

### 完善内容

#### 1.1 剧情导演协调流程（Coordinator/Dispatcher 模式）

**采用架构模式**: Coordinator/Dispatcher Pattern

```python
# 剧情导演 - 剧情导演（Director）工作流程
async def director_orchestrate(user_input: str, session_state: dict) -> dict:
    """
    剧情导演是系统总控，负责：
    1. 解析用户输入
    2. 并行调度三个子Agent
    3. 整合结果，传递给AISP Agent
    4. 决定对话是否应该结束
    """
    # 1. 解析用户输入
    input_analysis = analyze_user_input(user_input)

    # 2. 并行调度三个子Agent
    tasks = {
        "physio": physio_guard.validate(user_input, session_state),
        "psycho": psycho_guard.analyze_emotion(user_input, session_state),
        "knowledge": knowledge_retriever.evaluate(user_input, session_state)
    }

    results = await asyncio.gather(*tasks.values())

    # 3. 整合结果，传递给AISP Agent
    orchestration_result = {
        "allowed_facts": results["physio"].allowed_facts,
        "tone_style": results["psycho"].tone,
        "coverage": results["knowledge"].coverage,
        "session_state": results["knowledge"].updated_state
    }

    # 4. 决定是否应该结束对话
    should_end = check_ending_conditions(session_state, results["knowledge"].coverage)

    return orchestration_result, should_end

def check_ending_conditions(session_state: dict, coverage: float) -> bool:
    """
    基于SP业务流程调研的结束条件
    """
    # 条件1：病史采集完整性≥90%
    if coverage >= 0.90:
        return True
    # 条件2：所有SOAP阶段都已完成
    if all(stage in session_state["completed_stages"] for stage in ["S", "O", "A", "P"]):
        return True
    # 条件3：学生主动提出结束
    if session_state["user_initiated_end"]:
        return True
    # 条件4：达到30回合上限
    if session_state["turn_count"] >= 30:
        return True
    # 条件5：达到15分钟上限
    if session_state["duration"] >= 15 * 60:  # 15分钟 = 900秒
        return True
    return False
```

#### 1.2 生理中控与知识检索的交互逻辑

**数据流向明确化**：
```
用户提问
    ↓
剧情导演（并行调度）
    ↓
    ├─→ 生理中控（验证医学一致性）
    │     ↓
    │   输出：允许暴露的信息点（Allowed Facts）
    │
    ├─→ 心理状态（分析情感）
    │     ↓
    │   输出：语气风格建议（Tone）
    │
    └─→ 知识检索（评估覆盖率）
          ↓
        输出：要素采集进度（Coverage %）
        ↓
        更新会话状态（Turn Count, Coverage %）
          ↓
    AISP Agent（综合所有输入）
          ↓
        生成自然对话
```

**关键设计决策**：
1. **并行执行**: 生理中控、心理状态、知识检索三个Agent并行运行
2. **串行整合**: AISP Agent等待三个Agent结果后生成对话
3. **状态共享**: 知识检索Agent负责维护会话状态，其他Agent只读不写

---

## 🔄 Delta 2: SOAP完整流程设计

### 问题背景
**评估反馈**: "功能完整性：功能框架与后续环节不对应，缺少处置、诊断及辅助检查等功能"

### 完善内容

#### 2.1 学生端SOAP表达界面设计

**S - 病史采集（对话中自然完成，无需额外界面）**

**O - 辅助检查（需新增界面）**

界面设计：
```
┌─────────────────────────────────────────┐
│  辅助检查选择面板                      │
├─────────────────────────────────────────┤
│  体格检查                               │
│  □ 生命体征（血压、心率）               │
│  □ 腹部触诊                            │
│  □ 肺鸣音听诊                          │
│                                         │
│  辅助检查                               │
│  □ 血常规                                 │
│  □ 血糖检测                               │
│  □ 腹部超声                             │
│                                         │
│  [查看检查结果] [取消检查]           │
└─────────────────────────────────────────┘
```

学生操作流程：
1. 学生点击"申请检查"按钮
2. 系统根据当前病史信息生成虚拟检查结果
3. 学生看到检查结果，决定是否需要其他检查
4. 知识检索Agent记录"辅助检查选择"的合理性（评估维度：临床相关性）

**A - 诊断表达（需新增界面）**

界面设计：
```
┌─────────────────────────────────────────┐
│  诊断结论输入面板                      │
├─────────────────────────────────────────┤
│  主要诊断                               │
│  输入：2型糖尿病                       │
│                                         │
│  鉴别诊断（按可能性排序）              │
│  1. 1型糖尿病                         │
│  2. 甲亢                                │
│  3. 胃溃疡                              │
│                                         │
│  诊断依据                               │
│  [文本框：输入诊断推理过程]          │
│                                         │
│  [提交诊断] [清除重填]              │
└─────────────────────────────────────────┘
```

评分标准（知识检索Agent实时评估）：
- 主要诊断准确性：25%
- 鉴别诊断完整性：20%
- 诊断依据逻辑性：25%

**P - 处置计划（需新增界面）**

界面设计：
```
┌─────────────────────────────────────────┐
│  处置计划制定面板                      │
├─────────────────────────────────────────┤
│  药物治疗                               │
│  药品名称：二甲双胍                    │
│  剂量：500mg，每日2次               │
│  目标：控制血糖                       │
│                                         │
│  生活方式指导                            │
│  ☑ 饮食控制（低GI饮食）                │
│  ☑ 规律运动（每周150分钟）              │
│  ☑ 血糖监测（每日4次）                │
│                                         │
│  患者教育                               │
│  [文本框：向患者解释疾病和注意事项]   │
│                                         │
│  随访安排                               │
│  2周后复查HbA1c                      │
│  血糖不达标随时联系                    │
│                                         │
│  [提交计划] [与患者讨论]            │
└─────────────────────────────────────────┘
```

评分标准（知识检索Agent实时评估）：
- 药物合理性：20%
- 患者教育完整性：15%
- 随访安排合理性：10%

#### 2.2 SOAP过渡触发条件

基于SP业务流程调研（ASPE Standards + OSCE评估标准）：

| 阶段 | 触发条件（自然语言） | AISP Agent响应 |
|-------|---------------------|--------------|
| S → O | 学生说"我想检查一下"、"请躺下我来检查一下你的腹部"、"让我听听您的心脏" | 表现配合，允许进行虚拟体格检查 |
| O → A | 学生说"根据您的病史和检查结果，我认为您的情况是..."、"我初步考虑几个可能性..." | 确认理解，表达关切 |
| A → P | 学生说"我建议我们从以下几个方面开始治疗："、"接下来我给您制定一个治疗计划" | 倾听，表达偏好或顾虑 |
| P → 结束 | 学生说"以上就是我的计划，您还有什么疑问吗？"、"您对这个计划有什么想法吗？" | 确认理解，感谢患者，准备结束对话 |

---

## 🔄 Delta 3: 评分标准明确化

### 问题背景
**评估反馈**: "评分机制：6个维度的具体评分标准、各维度权重分配方式缺失"

### 完善内容

#### 3.1 各维度评分标准与权重分配

基于OSCE评估标准调研（BMC Medical Education 2025, ASPE Standards）：

| 评估维度 | 权重 | 评分标准（0-100分） | 评估时机 |
|---------|------|----------------|---------|
| **病史采集完整性** | 20% | 覆盖核心病史要素≥90%: 90-100分<br>>覆盖率70-90%: 70-89分<br>>覆盖率<70%: <70分 | 实时（知识检索Agent） |
| **临床相关性** | 15% | 提问与主诉相关≥80%: 80-100分<br>>相关性60-80%: 60-79分<br>>相关性<60%: <60分 | 实时（知识检索Agent） |
| **临床逻辑与思维结构** | 20% | 鉴别诊断≥3个且逻辑合理: 90-100分<br>>鉴别诊断2个且逻辑一般: 70-89分<br>>鉴别诊断<2个或逻辑混乱: <70分 | 提交A时（知识检索Agent） |
| **医患沟通能力** | 20% | 使用RESPECT框架≥80%: 80-100分<br>>尊重患者60-80%: 60-79分<br>>缺乏共情: <60分 | 实时（心理状态Agent） |
| **风险识别与安全意识** | 15% | 识别危险信号≥90%: 90-100分<br>>识别60-90%: 60-89分<br>>识别<60%: <60分 | 实时（生理中控Agent） |
| **随访与处置计划** | 10% | 计划完整（药物+教育+随访）: 80-100分<br>>计划部分完整: 60-79分<br>>计划缺失关键元素: <60分 | 提交P时（知识检索Agent） |

#### 3.2 实时反馈机制

```python
# 实时评分更新
async def update_realtime_feedback(session_id: str, user_action: dict):
    # 根据学生当前行为更新评分
    current_scores = await get_session_scores(session_id)

    if user_action["type"] == "question":
        # 评估提问质量（临床相关性）
        relevance = knowledge_retriever.evaluate_relevance(user_action["content"])
        current_scores["clinical_relevance"] = relevance * 0.15

    elif user_action["type"] == "auxiliary_exam_selection":
        # 评估辅助检查选择的合理性（临床相关性）
        exam_rationale = knowledge_retriever.evaluate_exam_selection(user_action["exam_type"])
        current_scores["clinical_relevance"] = exam_rationale * 0.15

    elif user_action["type"] == "diagnosis_submission":
        # 评估诊断质量
        diagnosis_score = knowledge_retriever.evaluate_diagnosis(
            user_action["primary_diagnosis"],
            user_action["differential_diagnoses"],
            user_action["reasoning"]
        )
        current_scores["clinical_reasoning"] = diagnosis_score

    elif user_action["type"] == "plan_submission":
        # 评估处置计划
        plan_score = knowledge_retriever.evaluate_plan(user_action["plan"])
        current_scores["followup_plan"] = plan_score

    # 更新实时反馈（推送给学生端）
    await update_session_feedback(session_id, current_scores)
    await push_realtime_notification(session_id, {
        "dimension": "updated_dimension",
        "new_score": current_scores["updated_dimension"],
        "feedback_message": "实时评估反馈"
    })
```

---

## 🔄 Delta 4: 对话结束条件完善

### 问题背景
**评估反馈**: "对话流程：提前完成的结束条件模糊"

### 完善内容

#### 4.1 结束条件判断逻辑

基于SP业务流程调研（ASPE Standards + OSCE Manual）：

```python
def should_end_conversation(session_state: dict) -> tuple[bool, str]:
    """
    返回：(是否应该结束, 结束原因)
    基于SP业务流程调研的多优先级条件判断
    """
    conditions = []

    # 条件1：病史采集完整性≥90%
    if session_state["coverage"] >= 0.90:
        conditions.append(("sufficient_data", "病史采集完整度已达90%"))

    # 条件2：所有SOAP阶段都已完成
    soap_stages = ["S", "O", "A", "P"]
    if all(stage in session_state["completed_stages"] for stage in soap_stages):
        conditions.append(("soap_complete", "SOAP所有阶段已完成"))

    # 条件3：学生主动提出结束
    if session_state["user_initiated_end"]:
        conditions.append(("user_request", "学生主动结束对话"))

    # 条件4：达到30回合上限
    if session_state["turn_count"] >= 30:
        conditions.append(("max_turns", "达到30回合上限"))

    # 条件5：达到15分钟上限
    if session_state["duration"] >= 15 * 60:  # 15分钟 = 900秒
        conditions.append(("max_time", "达到15分钟上限"))

    # 条件6：识别到危险情况
    if session_state["safety_risk"] == "high":
        conditions.append(("safety_concern", "检测到高风险情况"))

    # 优先级判断（从高到低）
    priority_order = [
        "safety_concern",      # 最高优先级：安全问题
        "sufficient_data",     # 数据采集足够
        "soap_complete",       # SOAP流程完整
        "user_request",         # 学生主动请求
        "max_time",           # 时间上限
        "max_turns"           # 回合上限
    ]

    for condition_type in priority_order:
        for condition in conditions:
            if condition[0] == condition_type:
                return True, condition[1]

    return False, "未达到结束条件"
```

#### 4.2 学生端提前结束机制

界面设计：
```
┌─────────────────────────────────────────┐
│  [结束训练] 按钮                      │
├─────────────────────────────────────────┤
│  点击后弹出确认对话框：                │
│                                         │
│  "确定结束本次训练吗？"              │
│                                         │
│  当前完成度：[进度条 78%]           │
│                                         │
│  未完成：                             │
│  - 辅助检查                          │
│  - 诊断结论                           │
│  - 处置计划                           │
│                                         │
│  [确认结束] [继续训练]              │
└─────────────────────────────────────────┘
```

---

## 🔄 Delta 5: 病例变体生成机制

### 问题背景
**评估反馈**: "病例管理：变体生成数量和逻辑不明确"

### 完善内容

#### 5.1 病例扩写Agent工作流程

**归属修正**: 病例扩写由教师端触发，不涉及学生端

```python
async def case_expansion_agent(case_template: dict) -> list[dict]:
    """
    输入：病例模板（教师创建）
    输出：多个变体病例
    """
    variants = []

    # 生成变体参数组合
    parameter_combinations = [
        {"age": [45, 52, 58, 65],  # 不同年龄段
         "gender": ["male", "female"],
         "emotion": ["anxious", "cooperative", "reluctant"],  # 不同情绪
         "comorbidity": ["hypertension", "dyslipidemia", "obesity", "none"]},  # 合并症
        {"age": [38, 42, 48, 55],
         "gender": ["male", "female"],
         "emotion": ["calm", "worried", "confused"],
         "comorbidity": ["renal_impairment", "retinopathy", "none"]}
    ]

    # 为每个组合生成变体
    for params in parameter_combinations:
        for age in params["age"]:
            for gender in params["gender"]:
                for emotion in params["emotion"]:
                    for comorbidity in params["comorbidity"]:
                        variant = await generate_single_variant(
                            case_template,
                            age=age,
                            gender=gender,
                            emotion=emotion,
                            comorbidity=comorbidity
                        )
                        if validate_medical_accuracy(variant):
                            variants.append(variant)

    # 限制每个模板最多10个变体
    return variants[:10]
```

#### 5.2 变体字段结构

```python
variant_structure = {
    "variant_id": "str",  # 变体唯一ID
    "template_id": "str",  # 关联的模板ID

    # 患者信息（扩写生成）
    "patient_info": {
        "name": "str",  # 姓名
        "age": int,  # 年龄
        "gender": "str",  # 性别
        "occupation": "str",  # 职业
        "education": "str",  # 教育程度
        "family_background": "str"  # 家庭背景
    },

    # 性格与情绪
    "personality": {
        "baseline_emotion": "str",  # 基础情绪
        "anxiety_level": float,  # 焦虑程度0-1.0
        "cooperation_level": float,  # 配合度0-1.0
        "pain_tolerance": float,  # 疼痛耐受度0-1.0
        "cultural_sensitivity": list[str]  # 文化敏感话题
    },

    # 医学信息
    "medical_info": {
        "diagnosis": "str",  # 诊断
        "chief_complaint": "str",  # 主诉
        "history": "str",  # 现病史
        "physical_findings": "str",  # 体格检查发现
        "key_symptoms": dict,  # 关键症状（可触发信息）
        "risk_factors": list[str]  # 危险因素
        "medications": list[str]  # 当前用药
        "allergies": list[str]  # 过敏史
    },

    # 病史要素（病史采集触发点）
    "history_elements": [
        {
            "element_id": "str",
            "description": "str",
            "visibility": "explicit" | "implicit",  # 显性/隐性
            "prerequisite": str | None,  # 前置条件
            "weight": int,  # 权重1-5
            "trigger_keywords": list[str]  # 触发关键词
        }
    ],

    # 变体元数据
    "metadata": {
        "created_at": "datetime",
        "created_by": "teacher_id",
        "difficulty_level": "beginner" | "intermediate" | "advanced",
        "estimated_duration": int,  # 预估训练时长（分钟）
        "version": "str"  # 版本号
    }
}
```

---

## 🔄 Delta 6: 功能一致性修复

### 问题背景
**评估反馈**: "AI辅助诊断按钮无意义，且原型图与功能清单不一致"、"病例扩写学生端不合业务逻辑"

### 完善内容

#### 6.1 删除"AI辅助诊断"按钮

**原因**：评估反馈明确指出"AI辅助诊断按钮无意义"

**修复方案**：
- 移除学生界面的"AI辅助诊断"按钮
- 学生通过自然对话表达诊断，系统在后端实时评估
- 评估结果通过"实时反馈"通知学生

#### 6.2 病例扩写归属修正

**原因**：评估反馈指出"病例扩写学生端不合业务逻辑"

**修复方案**：
- 病例扩写由**教师端**触发
- 教师创建病例模板后，点击"生成变体"按钮
- 系统后台调用病例扩写Agent
- 生成的变体存储到数据库
- 学生端选择病例时，系统随机分配一个变体（由`use_random_variant`字段控制）

---

## 🔄 Delta 7: 数据库表设计补充

### 问题背景
**评估反馈**: "表结构设计缺了很多，包括病例管理、作业管理的表等"

### 完善内容

#### 7.1 病例管理表完善

```sql
-- 病例模板表（教师创建）
CREATE TABLE case_templates (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    created_by UUID NOT NULL REFERENCES users(id),

    -- 病例基础信息
    disease_name VARCHAR(200) NOT NULL,
    scenario_type VARCHAR(50) NOT NULL,  -- 病史采集、医患沟通、中医诊疗、护理配合
    department VARCHAR(100) NOT NULL,

    -- 病例模板核心内容
    patient_info JSONB NOT NULL,
    medical_info JSONB NOT NULL,
    history_elements JSONB NOT NULL,

    -- 元数据
    status VARCHAR(20) DEFAULT 'draft',  -- draft, published, archived
    version VARCHAR(20) DEFAULT '1.0',
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- 病例变体表（Agent生成）
CREATE TABLE case_variants (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    template_id UUID NOT NULL REFERENCES case_templates(id),

    -- 患者信息（扩写生成）
    patient_info JSONB NOT NULL,
    personality JSONB NOT NULL,
    medical_info JSONB NOT NULL,

    -- 变体元数据
    difficulty_level VARCHAR(20) NOT NULL,
    estimated_duration INT NOT NULL,  -- 预估时长（分钟）
    created_at TIMESTAMP DEFAULT NOW(),

    CONSTRAINT fk_template FOREIGN KEY (template_id) REFERENCES case_templates(id)
);

-- 病史要素表（知识库）
CREATE TABLE history_elements (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    variant_id UUID NOT NULL REFERENCES case_variants(id),

    element_id VARCHAR(100) NOT NULL,
    description TEXT NOT NULL,
    visibility VARCHAR(20) NOT NULL CHECK (visibility IN ('explicit', 'implicit')),
    prerequisite VARCHAR(100),
    weight INT NOT NULL CHECK (weight BETWEEN 1 AND 5),
    trigger_keywords TEXT[],

    created_at TIMESTAMP DEFAULT NOW()
);
```

#### 7.2 作业管理表补充

```sql
-- 作业表
CREATE TABLE training_tasks (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    created_by UUID NOT NULL REFERENCES users(id),

    -- 作业信息
    title VARCHAR(200) NOT NULL,
    description TEXT,
    deadline TIMESTAMP NOT NULL,

    -- 关联病例
    template_id UUID NOT NULL REFERENCES case_templates(id),
    use_random_variant BOOLEAN DEFAULT true,  -- 是否随机分配变体

    -- 作业状态
    status VARCHAR(20) DEFAULT 'draft',  -- draft, published, closed
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- 班级表
CREATE TABLE classes (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    teacher_id UUID NOT NULL REFERENCES users(id),

    name VARCHAR(200) NOT NULL,
    description TEXT,
    student_count INT DEFAULT 0,

    created_at TIMESTAMP DEFAULT NOW()
);

-- 学生-班级关联表
CREATE TABLE class_students (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    class_id UUID NOT NULL REFERENCES classes(id),
    student_id UUID NOT NULL REFERENCES users(id),

    joined_at TIMESTAMP DEFAULT NOW(),

    UNIQUE(class_id, student_id)
);

-- 作业布置表（教师将作业布置给班级）
CREATE TABLE task_assignments (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    task_id UUID NOT NULL REFERENCES training_tasks(id),
    class_id UUID NOT NULL REFERENCES classes(id),

    assigned_at TIMESTAMP DEFAULT NOW(),
    due_date TIMESTAMP NOT NULL,

    UNIQUE(task_id, class_id)
);

-- 学生作业完成记录
CREATE TABLE student_task_completions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    task_id UUID NOT NULL REFERENCES training_tasks(id),
    student_id UUID NOT NULL REFERENCES users(id),
    variant_id UUID REFERENCES case_variants(id),  -- 学生实际使用的变体

    -- 训练记录
    session_id UUID REFERENCES training_records(id),
    started_at TIMESTAMP,
    completed_at TIMESTAMP,

    -- 评分
    final_score JSONB,  -- 6个维度的分数
    feedback TEXT,

    created_at TIMESTAMP DEFAULT NOW()
);
```

---

## 🔄 Delta 8: 统计分析功能补充

### 问题背景
**评估反馈**: "统计分析无问题"（但PRD中未明确定义具体指标）

### 完善内容

#### 8.1 教师端统计指标

**班级作业完成度统计**：
- 作业完成率 = 已完成学生数 / 总学生数 * 100%
- 平均完成时间
- 分数分布区间统计（0-60分、60-79分、80-89分、90-100分）

**6维度雷达图数据聚合**：
- 各维度平均分
- 各维度最高分/最低分
- 各维度标准差（评估教学效果）

**教学建议生成**：
- 基于雷达图薄弱维度生成改进建议
- 对比历史数据（如有）判断进步趋势

#### 8.2 前端展示设计

```
┌─────────────────────────────────────────┐
│  班级作业报告                        │
├─────────────────────────────────────────┤
│  作业：2型糖尿病问诊训练         │
│  截止日期：2026-01-25              │
│                                         │
│  完成情况：                           │
│  总人数：30人                        │
│  已完成：25人（83%）                 │
│  平均用时：12.5分钟                   │
│                                         │
│  分数分布：                           │
│  [雷达图可视化]                       │
│  • 90-100分：5人                   │
│  • 80-89分：8人                    │
│  • 60-79分：10人                   │
│  • <60分：2人                        │
│                                         │
│  教学建议：                           │
│  [基于薄弱维度生成]                   │
│                                         │
│  [导出报告] [查看详情]             │
└─────────────────────────────────────────┘
```

---

## 📌 总结

基于PRD Delta完善记录，技术架构设计已完成以下更新：

| Delta编号 | 完善内容 | 完善状态 |
|-----------|---------|-----------|
| Delta 1 | Multi-Agent交互流程明确化 | ✅ 已完成 |
| Delta 2 | SOAP完整流程设计 | ✅ 已完成 |
| Delta 3 | 评分标准明确化 | ✅ 已完成 |
| Delta 4 | 对话结束条件完善 | ✅ 已完成 |
| Delta 5 | 病例变体生成机制 | ✅ 已完成 |
| Delta 6 | 功能一致性修复 | ✅ 已完成 |
| Delta 7 | 数据库表设计补充 | ✅ 已完成 |
| Delta 8 | 统计分析功能补充 | ✅ 已完成 |

---

## 🏗️ 技术栈总结

- **前端**: React 18 + TypeScript + Tailwind CSS + WebSocket
- **后端**: Node.js (用户/对话/分析) + Python (AI/评估) + Express/FastAPI
- **数据库**: PostgreSQL (主库) + MongoDB (日志) + Redis (缓存)
- **AI**: OpenAI Compatible API (GLM-4) + LangChain + Vector DB
- **部署**: Docker + Kubernetes (Optional)
- **监控与安全**: Prometheus + 日志聚合 + Helmet + Rate Limiting

---

**文档版本**: v2.0
**创建日期**: 2026年1月20日
**审核状态**: 待审核
