# AI æ ‡å‡†åŒ–ç—…äººè®­ç»ƒç³»ç»Ÿ (AISP)

**AISP (AI Standardized Patient)** æ˜¯ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹çš„åŒ»å­¦æ•™è‚²å®è®­å¹³å°ï¼Œæ—¨åœ¨é€šè¿‡é«˜æ‹ŸçœŸçš„è™šæ‹Ÿç—…äººäº¤äº’ï¼Œè§£å†³ä¼ ç»ŸåŒ»å­¦æ•™è‚²ä¸­æ ‡å‡†åŒ–ç—…äººï¼ˆSPï¼‰èµ„æºç¨€ç¼ºã€æˆæœ¬é«˜æ˜‚ã€åé¦ˆæ»åçš„ç—›ç‚¹ã€‚

ç³»ç»Ÿå®Œå…¨æ¨¡æ‹Ÿå®¢è§‚ç»“æ„åŒ–ä¸´åºŠè€ƒè¯• (OSCE) æµç¨‹ï¼Œæ”¯æŒä»**ç—…å²é‡‡é›†**ã€**è¾…åŠ©æ£€æŸ¥**åˆ°**SOAP ç—…å†ä¹¦å†™**çš„å…¨æµç¨‹è®­ç»ƒï¼Œå¹¶æä¾›åŸºäºå¾ªè¯åŒ»å­¦çš„å®æ—¶ AI è¯„åˆ†ä¸åé¦ˆã€‚

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ‘¨â€âš•ï¸ å­¦ç”Ÿç«¯åŠŸèƒ½

#### 1. æ²‰æµ¸å¼ AI é—®è¯Š
- **è‡ªç„¶è¯­è¨€äº¤äº’**ï¼šä¸å…·å¤‡çœŸå®æ€§æ ¼ã€æƒ…ç»ªå’Œå®Œæ•´ç—…å²çš„ AI ç—…äººè¿›è¡Œè¯­éŸ³/æ–‡å­—å¯¹è¯ã€‚
- **åŠ¨æ€ç—…æƒ…æ¼”å˜**ï¼šç—…äººçŠ¶æ€ä¼šæ ¹æ®é—®è¯Šè¿‡ç¨‹åŠ¨æ€å˜åŒ–ï¼ˆå¦‚æƒ…ç»ªå®‰æŠšåæ›´é…åˆï¼‰ã€‚
- **åŒ»å­¦æ£€æŸ¥æ¨¡æ‹Ÿ**ï¼šæ”¯æŒå¼€å…·å„ç±»è¾…åŠ©æ£€æŸ¥ï¼ˆè¡€å¸¸è§„ã€å¿ƒç”µå›¾ã€CT ç­‰ï¼‰ï¼Œå¹¶å³æ—¶è·å–ç”± AI ç”Ÿæˆæˆ–é¢„è®¾çš„æ£€æŸ¥æŠ¥å‘Šã€‚

#### 2. å…¨ç»´åº¦èƒ½åŠ›è¯„ä¼°
ç³»ç»Ÿæ ¹æ® OSCE æ ‡å‡†è¿›è¡Œå¤šç»´åº¦è‡ªåŠ¨è¯„åˆ†ï¼š
- **OPQRST è¦†ç›–ç‡**ï¼šè‡ªåŠ¨æ£€æµ‹æ˜¯å¦å®Œæ•´è¯¢é—®äº†å‘ç—…è¯±å› ã€åŠ é‡ç¼“è§£å› ç´ ã€æ€§è´¨ã€æ”¾å°„ã€ç¨‹åº¦ã€æ—¶é—´ç­‰å…³é”®è¦ç´ ã€‚
- **ä¸´åºŠæ€ç»´ (Logic)**ï¼šè¯„ä¼°é—®è¯Šé€»è¾‘æ¡ç†æ€§ä¸è¯Šæ–­æ–¹å‘çš„å‡†ç¡®æ€§ã€‚
- **äººæ–‡å…³æ€€ (Empathy)**ï¼šè¯†åˆ«å¯¹è¯ä¸­çš„å…±æƒ…è¡¨è¾¾ä¸æ²Ÿé€šæŠ€å·§ã€‚
- **SOAP ç—…å†æ’°å†™**ï¼šå†…ç½®æ ‡å‡† SOAP æ ¼å¼ï¼ˆSubjective, Objective, Assessment, Planï¼‰è®°å½•å·¥å…·ã€‚

#### 3. æ™ºèƒ½åé¦ˆä¸æ¨è
- **ä¸ªæ€§åŒ–å¼±é¡¹åˆ†æ**ï¼šç³»ç»Ÿè‡ªåŠ¨åˆ†æå†å²è®­ç»ƒæ•°æ®ï¼Œè¯†åˆ«å­¦ç”Ÿåœ¨â€œå…±æƒ…èƒ½åŠ›â€æˆ–â€œä¸´åºŠé€»è¾‘â€ä¸Šçš„çŸ­æ¿ã€‚
- **æ™ºèƒ½ç—…ä¾‹æ¨è**ï¼šåŸºäºå¼±é¡¹åˆ†æç®—æ³•ï¼Œè‡ªåŠ¨æ¨èé€‚åˆçš„é’ˆå¯¹æ€§å¼ºåŒ–ç—…ä¾‹ï¼ˆå¦‚é€»è¾‘è–„å¼±æ¨èé«˜éš¾åº¦å¤æ‚ç—…ä¾‹ï¼Œå…±æƒ…è–„å¼±æ¨èæƒ…ç»ªåŒ–ç—…äººï¼‰ã€‚
- **OSCE æŠ¥å‘Šå¯¼å‡º**ï¼šæ”¯æŒä¸€é”®å¯¼å‡ºåŒ…å«é›·è¾¾å›¾å¾—åˆ†ã€å¤±åˆ†é¡¹è¯¦è§£çš„ CSV æ ¼å¼æˆç»©å•ï¼Œç”±äºæ•™å­¦å½’æ¡£ã€‚

#### 4. å¤ç›˜ä¸å›æº¯
- **å®Œæ•´ä¼šè¯å›æ”¾**ï¼šæ”¯æŒæŒ‰æ—¶é—´è½´å›çœ‹å®Œæ•´çš„é—®è¯Šå¯¹è¯è®°å½•ã€‚
- **AI é€å¥ç‚¹è¯„**ï¼šAI é’ˆå¯¹æ¯ä¸€è½®å…³é”®å¯¹è¯æä¾›æ”¹è¿›å»ºè®®ã€‚

### ğŸ‘©â€ğŸ« æ•™å¸ˆç«¯åŠŸèƒ½

- **ç—…ä¾‹åº“ç®¡ç†**ï¼šå¯è§†åŒ–åˆ›å»ºå’Œç¼–è¾‘ç—…ä¾‹æ¨¡æ¿ï¼Œè®¾å®šç—…äººç”»åƒã€æ—¢å¾€å²ã€æ ¸å¿ƒä½“å¾åŠè¯Šæ–­æ ‡å‡†ã€‚
- **ç­çº§æ•°æ®çœ‹æ¿**ï¼šå®æ—¶ç›‘æ§å…¨ç­å­¦ç”Ÿçš„è®­ç»ƒè¿›åº¦ã€å¹³å‡åˆ†åˆ†å¸ƒåŠé«˜é¢‘å¤±åˆ†ç‚¹ã€‚
- **æ•™å­¦ç®¡ç†**ï¼šç®¡ç†å­¦ç”Ÿåå•ã€åˆ†é…è®­ç»ƒä»»åŠ¡ã€‚

---

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

æœ¬é¡¹ç›®é‡‡ç”¨ Monorepo æ¶æ„ï¼Œå‰åç«¯åˆ†ç¦»è®¾è®¡ï¼š

| æ¨¡å— | æŠ€æœ¯æ ˆ | è¯´æ˜ |
|------|--------|------|
| **Frontend** | React 18, TypeScript, Vite | UI æ¡†æ¶ä¸æ„å»ºå·¥å…· |
| **State** | Zustand | è½»é‡çº§å…¨å±€çŠ¶æ€ç®¡ç† |
| **Styling** | TailwindCSS | åŸå­åŒ– CSS æ ·å¼æ–¹æ¡ˆ |
| **Backend** | Node.js, Express, TypeScript | RESTful API æœåŠ¡ç«¯ |
| **Database** | PostgreSQL | å…³ç³»å‹æ•°æ®å­˜å‚¨ |
| **AI Engine** | LangChain, OpenAI API | LLM ç¼–æ’ä¸è°ƒç”¨ |

---

## ğŸš€ å¿«é€Ÿä¸Šæ‰‹æŒ‡å—

### ç¯å¢ƒå‡†å¤‡
- Node.js v18+
- pnpm v8+
- PostgreSQL v14+

### 1. å®‰è£…ä¸åˆå§‹åŒ–

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/Luchen-0420/AISP.git
cd AISP

# å®‰è£…ä¾èµ–
pnpm install

# åˆå§‹åŒ–æ•°æ®åº“ç»“æ„
# ç¡®ä¿æœ¬åœ° PostgreSQL å·²å¯åŠ¨å¹¶åˆ›å»ºäº†æ•°æ®åº“
pnpm db:init
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åœ¨ `packages/server` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# æ ¸å¿ƒæœåŠ¡é…ç½®
PORT=3001
JWT_SECRET=your_secure_jwt_secret

# æ•°æ®åº“è¿æ¥
DATABASE_URL=postgresql://postgres:password@localhost:5432/zyj_test_demo

# AI æœåŠ¡é…ç½® (æ”¯æŒ OpenAI åŠå…¼å®¹æ¥å£)
# OPENAI_API_KEY=sk-xxxxxx
# OPENAI_BASE_URL=https://api.openai.com/v1
# AI_MODEL_NAME=gpt-4-turbo
```

> **æ³¨æ„**ï¼šæœ¬å¹³å°æ”¯æŒ **BYOK (Bring Your Own Key)** æ¨¡å¼ã€‚å¦‚æœæœªåœ¨ç¯å¢ƒå˜é‡ä¸­é…ç½® AI Keyï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥åœ¨å‰ç«¯ã€Œè®¾ç½®ã€é¡µé¢è¾“å…¥è‡ªå·±çš„ Key è¿›è¡Œä½¿ç”¨ã€‚

### 3. å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
# åœ¨æ ¹ç›®å½•è¿è¡Œï¼Œå°†åŒæ—¶å¯åŠ¨å‰ç«¯ä¸åç«¯æœåŠ¡
pnpm dev
```

- å‰ç«¯åœ°å€: `http://localhost:5173`
- åç«¯åœ°å€: `http://localhost:3001`

---

### ğŸš€ æ ¸å¿ƒä½¿ç”¨æµç¨‹ (Teacher First)

ç”±äºç³»ç»Ÿè®¾è®¡çš„æ•™å­¦ç®¡ç†é€»è¾‘ï¼Œ**å¿…é¡»ç”±æ•™å¸ˆå…ˆå®Œæˆç­çº§åˆ›å»º**ï¼Œå­¦ç”Ÿæ‰èƒ½é€šè¿‡é‚€è¯·ç æ³¨å†ŒåŠ å…¥ã€‚

#### ç¬¬ä¸€æ­¥ï¼šæ•™å¸ˆç«¯åˆå§‹åŒ–
1.  **æ³¨å†Œ/ç™»å½•**ï¼šæ•™å¸ˆéœ€ä½¿ç”¨æ•™èŒå·¥å·æ³¨å†Œè´¦å·ã€‚
2.  **åˆ›å»ºç­çº§**ï¼š
    *   è¿›å…¥â€œæ•™å­¦ç®¡ç†â€ -> â€œåˆ›å»ºç­çº§â€ã€‚
    *   åˆ›å»ºæˆåŠŸåï¼Œç³»ç»Ÿä¼šç”Ÿæˆä¸€ä¸ª **6ä½æ•°å­—çš„ç­çº§é‚€è¯·ç **ã€‚
    *   **é‡è¦**ï¼šå°†æ­¤é‚€è¯·ç å‘é€ç»™å­¦ç”Ÿï¼Œå­¦ç”Ÿæ³¨å†Œæ—¶å¿…é¡»å¡«å†™ã€‚
3.  **å‡†å¤‡ç—…ä¾‹**ï¼š
    *   è¿›å…¥â€œç—…ä¾‹åº“â€ -> â€œæ–°å»ºç—…ä¾‹â€ï¼Œé…ç½®ç—…äººç”»åƒä¸è¯Šæ–­æ ‡å‡†ã€‚
    *   ç‚¹å‡»â€œç”Ÿæˆå˜ä½“â€ç”± AI ç”Ÿæˆå¤šæ ·åŒ–çš„å…·ä½“ç—…ä¾‹ã€‚
    *   å°†ç—…ä¾‹**åˆ†é…**ç»™åˆ›å»ºçš„ç­çº§ï¼ˆå¦åˆ™å­¦ç”Ÿçœ‹ä¸åˆ°ç—…ä¾‹ï¼‰ã€‚

#### ç¬¬äºŒæ­¥ï¼šå­¦ç”Ÿç«¯å®è®­
1.  **æ³¨å†Œè´¦å·**ï¼š
    *   é€‰æ‹©â€œæˆ‘æ˜¯å­¦ç”Ÿâ€ã€‚
    *   è¾“å…¥æ•™å¸ˆæä¾›çš„ **ç­çº§é‚€è¯·ç ** å®Œæˆè´¦å·ç»‘å®šã€‚
2.  **å¼€å§‹è®­ç»ƒ**ï¼š
    *   ç™»å½•ååœ¨é¦–é¡µå³å¯çœ‹åˆ°è€å¸ˆåˆ†é…çš„å¾…å®Œæˆç—…ä¾‹ã€‚
    *   ç‚¹å‡»â€œå¼€å§‹é—®è¯Šâ€è¿›å…¥æ¨¡æ‹Ÿè¯Šå®¤ã€‚
3.  **é—®è¯Šä¸æäº¤**ï¼š
    *   ä¸ AI ç—…äººè¿›è¡Œå¯¹è¯ï¼ˆé—®è¯Šï¼‰ã€‚
    *   å¼€å…·è¾…åŠ©æ£€æŸ¥ï¼ˆæŸ¥ä½“ï¼‰ã€‚
    *   å¡«å†™ SOAP è®°å½•ã€‚
    *   æäº¤è·å–å®æ—¶è¯„åˆ†ä¸åé¦ˆã€‚

---

## ğŸ“‚ ç›®å½•ç»“æ„

```
root/
â”œâ”€â”€ scripts/                # Root utility scripts
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ web/                # Frontend (React + Vite)
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ api/        # Axios setup
â”‚   â”‚   â”‚   â”œâ”€â”€ components/ # UI Components
â”‚   â”‚   â”‚   â”œâ”€â”€ layouts/    # Page Layouts
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/      # Route Components
â”‚   â”‚   â”‚   â”œâ”€â”€ services/   # Frontend API Services
â”‚   â”‚   â”‚   â”œâ”€â”€ store/      # State (Zustand)
â”‚   â”‚   â”‚   â””â”€â”€ types/      # TS Interfaces
â”‚   â”‚   â””â”€â”€ vite.config.ts  # Build Config
â”‚   â””â”€â”€ server/             # Backend (Express)
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ controllers/# Request Handlers
â”‚       â”‚   â”œâ”€â”€ db/         # Database Connection
â”‚       â”‚   â”œâ”€â”€ middleware/ # Auth & Error Middleware
â”‚       â”‚   â”œâ”€â”€ models/     # DB Models
â”‚       â”‚   â”œâ”€â”€ prompts/    # AI Prompts
â”‚       â”‚   â””â”€â”€ services/   # Business Logic
â”‚       â””â”€â”€ .env            # Environment Variables
â”œâ”€â”€ pnpm-workspace.yaml     # Workspace Config
â””â”€â”€ package.json            # Root Config
```

## ğŸ“„ License

MIT License
